

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>simulator &mdash; SysDynPy 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="stock" href="stock.html" />
    <link rel="prev" title="parameter" href="parameter.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SysDynPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dynamicvariable.html">dynamicvariable</a></li>
<li class="toctree-l2"><a class="reference internal" href="exporter.html">exporter</a></li>
<li class="toctree-l2"><a class="reference internal" href="flow.html">flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameter.html">parameter</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="stock.html">stock</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">system</a></li>
<li class="toctree-l2"><a class="reference internal" href="systemelement.html">systemelement</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SysDynPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">Modules</a> &raquo;</li>
        
      <li>simulator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/simulator.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-sysdynpy.simulator">
<span id="simulator"></span><h1>simulator<a class="headerlink" href="#module-sysdynpy.simulator" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="sysdynpy.simulator.Simulator">
<em class="property">class </em><code class="sig-prename descclassname">sysdynpy.simulator.</code><code class="sig-name descname">Simulator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simulation_steps</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">time_unit</span><span class="o">=</span><span class="default_value">'days'</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">0.05</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sysdynpy/simulator.html#Simulator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sysdynpy.simulator.Simulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Can be used to run simulations for a given system.</p>
<dl class="py method">
<dt id="sysdynpy.simulator.Simulator.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simulation_steps</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">time_unit</span><span class="o">=</span><span class="default_value">'days'</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">0.05</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sysdynpy/simulator.html#Simulator.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sysdynpy.simulator.Simulator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simulation_steps</strong> (<em>int</em>) – The number of steps to simulate
when run_simulation() is called, defaults to 10</p></li>
<li><p><strong>time_unit</strong> (<em>str</em>) – Defines the time period of one simulation step.
The value must be one of the values defines in <a class="reference internal" href="#sysdynpy.simulator.Simulator.VALID_TIME_UNITS" title="sysdynpy.simulator.Simulator.VALID_TIME_UNITS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">VALID_TIME_UNITS</span></code></a>
, defaults to “days”</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – <p>The interval between calculations. Must be a number between
zero and one. The reciprocal of this argument is the number of 
calculation steps per simulation step. One means that the system 
element values are calculated once per simulation step. Smaller 
numbers result in higher accuracy but longer calculation times while 
greater numbers lead to faster calculations but lower accuracy.
Defaults to 0.05.</p>
<div class="line-block">
<div class="line">Example: </div>
<div class="line">0.05 means the reciprocal is 1 / 0.05 = 20. So by default
20 calculations are done per simulation step.</div>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sysdynpy.simulator.Simulator._calculate_stock_change">
<code class="sig-name descname">_calculate_stock_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stock</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sysdynpy/simulator.html#Simulator._calculate_stock_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sysdynpy.simulator.Simulator._calculate_stock_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the change for a given stock based on the calculation rule.</p>
<p>This method only checks the input- and output flows of the stock. It presumes
that values for these flows have already been calculated for the current
simulation step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stock</strong> (<a class="reference internal" href="stock.html#sysdynpy.stock.Stock" title="sysdynpy.stock.Stock"><em>Stock</em></a>) – The stock to calculate the change for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The calculated value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sysdynpy.simulator.Simulator._calculate_value">
<code class="sig-name descname">_calculate_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">element</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sysdynpy/simulator.html#Simulator._calculate_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sysdynpy.simulator.Simulator._calculate_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the value for a given element based on the calculation rule.</p>
<p>This is a recursive function to calculate the value of a flow or
dynamic variable. The values of flows or dynamic variables can always be
deduced from parameters or stocks. But it can not be assumed that a dynamic
variable or flow <strong>directly</strong> depends on only parameters or stocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>element</strong> (<a class="reference internal" href="flow.html#sysdynpy.flow.Flow" title="sysdynpy.flow.Flow"><em>Flow</em></a><em> or </em><a class="reference internal" href="dynamicvariable.html#sysdynpy.dynamicvariable.DynamicVariable" title="sysdynpy.dynamicvariable.DynamicVariable"><em>DynamicVariable</em></a>) – The element to calculate a value for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The calculated value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sysdynpy.simulator.Simulator.get_simulation_results">
<code class="sig-name descname">get_simulation_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sysdynpy/simulator.html#Simulator.get_simulation_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sysdynpy.simulator.Simulator.get_simulation_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the trajectories of all system elements during the
simulation. Must be called after the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>A dictionary where each key corresponds to the name of a
system element. The values are lists. For each simulation step
a list contains the value of the system element (key) at that
simulation step.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">someStockName</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mf">7.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="n">someFlowName</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="n">someParameterName</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None or dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sysdynpy.simulator.Simulator.run_simulation">
<code class="sig-name descname">run_simulation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">system</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sysdynpy/simulator.html#Simulator.run_simulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sysdynpy.simulator.Simulator.run_simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a simulation for the given system.</p>
<p>Once the simulation is finished, results are available by calling
<a class="reference internal" href="#sysdynpy.simulator.Simulator.get_simulation_results" title="sysdynpy.simulator.Simulator.get_simulation_results"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulation_results()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system</strong> (<a class="reference internal" href="system.html#sysdynpy.system.System" title="sysdynpy.system.System"><em>System</em></a>) – The system to run a simulation for.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="sysdynpy.simulator.Simulator.VALID_TIME_UNITS">
<code class="sig-name descname">VALID_TIME_UNITS</code><em class="property"> = ('milliseconds', 'seconds', 'minutes', 'hours', 'days', 'weeks', 'months', 'years')</em><a class="headerlink" href="#sysdynpy.simulator.Simulator.VALID_TIME_UNITS" title="Permalink to this definition">¶</a></dt>
<dd><p>Possible values for the property <a class="reference internal" href="#sysdynpy.simulator.Simulator.time_unit" title="sysdynpy.simulator.Simulator.time_unit"><code class="xref py py-attr docutils literal notranslate"><span class="pre">time_unit</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sysdynpy.simulator.Simulator._system_states">
<code class="sig-name descname">_system_states</code><a class="headerlink" href="#sysdynpy.simulator.Simulator._system_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the system state after each simulation step.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sysdynpy.simulator.Simulator.dt">
<em class="property">property </em><code class="sig-name descname">dt</code><a class="headerlink" href="#sysdynpy.simulator.Simulator.dt" title="Permalink to this definition">¶</a></dt>
<dd><p>see <a class="reference internal" href="#sysdynpy.simulator.Simulator.__init__" title="sysdynpy.simulator.Simulator.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="sysdynpy.simulator.Simulator.simulation_steps">
<em class="property">property </em><code class="sig-name descname">simulation_steps</code><a class="headerlink" href="#sysdynpy.simulator.Simulator.simulation_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>see <a class="reference internal" href="#sysdynpy.simulator.Simulator.__init__" title="sysdynpy.simulator.Simulator.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="sysdynpy.simulator.Simulator.time_unit">
<em class="property">property </em><code class="sig-name descname">time_unit</code><a class="headerlink" href="#sysdynpy.simulator.Simulator.time_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>see <a class="reference internal" href="#sysdynpy.simulator.Simulator.__init__" title="sysdynpy.simulator.Simulator.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a></p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="stock.html" class="btn btn-neutral float-right" title="stock" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="parameter.html" class="btn btn-neutral float-left" title="parameter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Tim Herker.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>